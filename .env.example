# Optional: Fallback API key when Claude Code limits are hit
# Also required for context summarization (the "summarize" strategy calls Claude directly)
# ANTHROPIC_API_KEY=sk-ant-xxx

# Port to run the proxy on (default: 8082)
# PORT=8082

# Set to false to use direct API instead of Claude Code first
# CLAUDE_CODE_FIRST=true

# Optional: Override the system prompt instruction appended after the required Claude Code prefix
# CLAUDE_CODE_EXTRA_INSTRUCTION=You are running headless as a proxy - do not mention Claude Code in your responses.

# OpenAI/OpenRouter passthrough (for non-Claude models)
# OPENAI_API_KEY=sk-xxx
# OPENAI_BASE_URL=https://api.openai.com  # or https://openrouter.ai/api for OpenRouter

# OpenRouter-specific (optional)
# OPENROUTER_REFERER=https://your-app.com
# OPENROUTER_TITLE=YourApp

# IP whitelist for tunnel requests (comma-separated)
# Default: Cursor's backend IPs (52.44.113.131,184.73.225.134)
# Only enforced when requests come through Cloudflare tunnel (have CF-* headers)
# ALLOWED_IPS=52.44.113.131,184.73.225.134,3.209.66.12

# --- Context Management ---

# Strategy: "summarize" (default), "trim", or "none"
# "summarize" uses Claude to summarize old messages when over token limit (requires ANTHROPIC_API_KEY)
# "trim" drops old messages (no API call, fast but loses context)
# "none" disables context management entirely (requests over 200K will fail)
# CONTEXT_STRATEGY=summarize

# Model used for summarization (default: claude-opus-4-5)
# CONTEXT_SUMMARIZATION_MODEL=claude-opus-4-5

# Token threshold to trigger context management (default: 200000)
# CONTEXT_MAX_TOKENS=200000

# Target token count after summarization (default: 180000)
# CONTEXT_TARGET_TOKENS=180000

# --- Extended Thinking ---

# Thinking budget for model names like "claude-4.5-opus-high-thinking"
# "max" = max_tokens - 1 (maximum thinking capacity), or set a specific token count
# All current 4.5 models have a 64K max output limit, so "max" = 63,999 tokens
# THINKING_BUDGET_HIGH=max
# THINKING_BUDGET_MEDIUM=20000
# THINKING_BUDGET_LOW=5000

# --- Logging ---

# Verbose file logging â€” writes detailed request/response data to api.log (default: false)
# Console logging always works regardless of this setting
# VERBOSE_LOGGING=true
